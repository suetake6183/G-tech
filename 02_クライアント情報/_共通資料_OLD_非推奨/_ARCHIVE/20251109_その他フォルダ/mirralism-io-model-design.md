# MIRRALISM I/Oè¨­è¨ˆã¨AIãƒ¢ãƒ‡ãƒ«æˆ¦ç•¥

## 1. ã‚¤ãƒ³ãƒ—ãƒƒãƒˆ/ã‚¢ã‚¦ãƒˆãƒ—ãƒƒãƒˆè¨­è¨ˆ

### 1.1 ã‚¤ãƒ³ãƒ—ãƒƒãƒˆï¼ˆçµ±ä¸€çª“å£ï¼‰

```yaml
å…¥åŠ›ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹:
  å ´æ‰€: å˜ä¸€ã®å¯¾è©±çª“å£
  
  å—ä»˜å¯èƒ½ãªå…¥åŠ›:
    - ãƒ†ã‚­ã‚¹ãƒˆï¼ˆç›´æ¥å…¥åŠ›ï¼‰
    - éŸ³å£°ï¼ˆAqua VoiceçµŒç”±ï¼‰
    - ãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆPDFã€ç”»åƒã€Excelç­‰ï¼‰
    - URLï¼ˆWebãƒšãƒ¼ã‚¸ï¼‰
    - ãƒ¡ãƒ¼ãƒ«è»¢é€
  
  å…¥åŠ›æ™‚ã®è‡ªå‹•è­˜åˆ¥:
    - ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆåã®è‡ªå‹•èªè­˜
    - æ¡ˆä»¶ç¨®åˆ¥ã®æ¨å®š
    - ç·Šæ€¥åº¦ã®åˆ¤å®š
```

### 1.2 ã‚¢ã‚¦ãƒˆãƒ—ãƒƒãƒˆï¼ˆAIæ•´ç†æ¸ˆã¿æ§‹é€ ï¼‰

```
/MIRRALISM_OUTPUT/
â”œâ”€â”€ ğŸ“ Clients/                    # ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆåˆ¥
â”‚   â”œâ”€â”€ ğŸ“ é»’æ¾¤å·¥å‹™åº—/
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ Profile.md          # åŸºæœ¬æƒ…å ±ãƒ»ç‰¹å¾´
â”‚   â”‚   â”œâ”€â”€ ğŸ“ Projects/           # æ¡ˆä»¶åˆ¥
â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“ 2025-06_ã‚¨ã‚³ä½å®…ææ¡ˆ/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“„ Summary.md  # AIè¦ç´„
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“„ Insights.md # æ´å¯Ÿ
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“„ Proposal.md # ææ¡ˆæ›¸
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ ğŸ“ References/ # å…ƒãƒ‡ãƒ¼ã‚¿
â”‚   â”‚   â”‚   â””â”€â”€ ğŸ“ 2025-05_ãƒªãƒ•ã‚©ãƒ¼ãƒ ç›¸è«‡/
â”‚   â”‚   â”œâ”€â”€ ğŸ“ Insights/           # è“„ç©ã•ã‚ŒãŸæ´å¯Ÿ
â”‚   â”‚   â””â”€â”€ ğŸ“ Communications/     # ã‚„ã‚Šå–ã‚Šå±¥æ­´
â”‚   â”‚
â”‚   â””â”€â”€ ğŸ“ ç”°ä¸­å»ºè¨­/
â”‚       â””â”€â”€ ...
â”‚
â”œâ”€â”€ ğŸ“ Personal/                   # è‡ªåˆ†é–¢é€£
â”‚   â”œâ”€â”€ ğŸ“ Ideas/                  # ã‚¢ã‚¤ãƒ‡ã‚¢ãƒ»æ€è€ƒ
â”‚   â”œâ”€â”€ ğŸ“ Learning/               # å­¦ç¿’ãƒ¡ãƒ¢
â”‚   â””â”€â”€ ğŸ“ Tasks/                  # ã‚¿ã‚¹ã‚¯ãƒ»TODO
â”‚
â”œâ”€â”€ ğŸ“ Knowledge/                  # çŸ¥è­˜ãƒ™ãƒ¼ã‚¹
â”‚   â”œâ”€â”€ ğŸ“ Industry/               # æ¥­ç•ŒçŸ¥è­˜
â”‚   â”œâ”€â”€ ğŸ“ Technology/             # æŠ€è¡“æƒ…å ±
â”‚   â””â”€â”€ ğŸ“ Best_Practices/         # ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹
â”‚
â””â”€â”€ ğŸ“ Analytics/                  # åˆ†æãƒ»ãƒ¬ãƒãƒ¼ãƒˆ
    â”œâ”€â”€ ğŸ“„ Weekly_Summary.md       # é€±æ¬¡ã‚µãƒãƒªãƒ¼
    â”œâ”€â”€ ğŸ“„ Client_Trends.md        # ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå‹•å‘
    â””â”€â”€ ğŸ“„ Opportunity_Map.md      # æ©Ÿä¼šãƒãƒƒãƒ—
```

### 1.3 ã‚¢ã‚¦ãƒˆãƒ—ãƒƒãƒˆç”Ÿæˆãƒ«ãƒ¼ãƒ«

```python
class OutputOrganizer:
    """AIãŒç†è§£ã—ãŸå†…å®¹ã‚’äººé–“ã«åˆ†ã‹ã‚Šã‚„ã™ãæ•´ç†"""
    
    async def process_input(self, input_data, ai_understanding):
        # 1. æ–‡è„ˆã‚’ç‰¹å®š
        context = await self.identify_context(ai_understanding)
        # ä¾‹: {"client": "é»’æ¾¤å·¥å‹™åº—", "type": "ç›¸è«‡", "topic": "ã‚¨ã‚³ä½å®…"}
        
        # 2. é©åˆ‡ãªå ´æ‰€ã‚’æ±ºå®š
        output_path = self.determine_path(context)
        # ä¾‹: "/Clients/é»’æ¾¤å·¥å‹™åº—/Projects/2025-06_ã‚¨ã‚³ä½å®…ææ¡ˆ/"
        
        # 3. æ§‹é€ åŒ–ã•ã‚ŒãŸã‚¢ã‚¦ãƒˆãƒ—ãƒƒãƒˆã‚’ç”Ÿæˆ
        outputs = await self.generate_outputs(ai_understanding)
        
        # 4. è‡ªå‹•çš„ã«é©åˆ‡ãªå ´æ‰€ã«ä¿å­˜
        await self.save_outputs(output_path, outputs)
        
        # 5. é–¢é€£æƒ…å ±ã‚’ãƒªãƒ³ã‚¯
        await self.link_related(output_path, context)
    
    def determine_path(self, context):
        """æ–‡è„ˆã‹ã‚‰é©åˆ‡ãªä¿å­˜å…ˆã‚’æ±ºå®š"""
        if context.get("client"):
            return f"/Clients/{context['client']}/Projects/{context['project_id']}/"
        elif context.get("personal"):
            return f"/Personal/{context['category']}/"
        else:
            return f"/Knowledge/{context['domain']}/"
```

## 2. AIãƒ¢ãƒ‡ãƒ«æˆ¦ç•¥

### 2.1 ç¾åœ¨ã®é¸å®šãƒ¢ãƒ‡ãƒ«

```yaml
ãƒ¡ã‚¤ãƒ³ãƒ¢ãƒ‡ãƒ«:
  åç§°: Claude 3.5 Sonnet
  ç†ç”±:
    - æ—¥æœ¬èªç†è§£åŠ›ãŒé«˜ã„
    - é•·æ–‡è„ˆå¯¾å¿œï¼ˆ200k tokensï¼‰
    - æ¨è«–èƒ½åŠ›ãŒå„ªç§€
    - APIãŒå®‰å®š
  
  ç”¨é€”:
    - å¯¾è©±ç†è§£
    - æ´å¯Ÿç”Ÿæˆ
    - ææ¡ˆä½œæˆ
    - è¦ç´„ãƒ»æ•´ç†

è£œåŠ©ãƒ¢ãƒ‡ãƒ«:
  åŸ‹ã‚è¾¼ã¿ãƒ¢ãƒ‡ãƒ«: text-embedding-3-small
  ç†ç”±:
    - ã‚³ã‚¹ãƒˆåŠ¹ç‡ãŒè‰¯ã„
    - æ—¥æœ¬èªå¯¾å¿œ
    - é«˜é€Ÿ
  
  ç”¨é€”:
    - æ„å‘³çš„æ¤œç´¢
    - é¡ä¼¼æ€§åˆ¤å®š
    - ã‚¯ãƒ©ã‚¹ã‚¿ãƒªãƒ³ã‚°

å°†æ¥æ¤œè¨ãƒ¢ãƒ‡ãƒ«:
  - GPT-4oï¼ˆãƒãƒ«ãƒãƒ¢ãƒ¼ãƒ€ãƒ«å¯¾å¿œæ™‚ï¼‰
  - Gemini Proï¼ˆã‚³ã‚¹ãƒˆæœ€é©åŒ–æ™‚ï¼‰
  - Local LLMï¼ˆãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼é‡è¦–æ™‚ï¼‰
```

### 2.2 ãƒ¢ãƒ‡ãƒ«æŠ½è±¡åŒ–ãƒ¬ã‚¤ãƒ¤ãƒ¼

```python
from abc import ABC, abstractmethod
from typing import Dict, Any
import asyncio

class AIModel(ABC):
    """å…¨ã¦ã®AIãƒ¢ãƒ‡ãƒ«ã®åŸºåº•ã‚¯ãƒ©ã‚¹"""
    
    @abstractmethod
    async def understand(self, input_text: str) -> Dict[str, Any]:
        """å…¥åŠ›ã‚’ç†è§£ã™ã‚‹"""
        pass
    
    @abstractmethod
    async def generate_insight(self, understanding: Dict) -> str:
        """æ´å¯Ÿã‚’ç”Ÿæˆã™ã‚‹"""
        pass
    
    @abstractmethod
    async def create_proposal(self, context: Dict) -> str:
        """ææ¡ˆã‚’ä½œæˆã™ã‚‹"""
        pass

class ClaudeModel(AIModel):
    """Claude 3.5 Sonnetå®Ÿè£…"""
    
    def __init__(self, api_key: str):
        self.client = AsyncAnthropic(api_key=api_key)
        self.model = "claude-3-5-sonnet-20241022"
    
    async def understand(self, input_text: str) -> Dict[str, Any]:
        # Claudeç‰¹æœ‰ã®å®Ÿè£…
        response = await self.client.messages.create(...)
        return self.parse_response(response)

class GPT4Model(AIModel):
    """GPT-4å®Ÿè£…ï¼ˆå°†æ¥ç”¨ï¼‰"""
    
    def __init__(self, api_key: str):
        self.client = AsyncOpenAI(api_key=api_key)
        self.model = "gpt-4-turbo"
    
    async def understand(self, input_text: str) -> Dict[str, Any]:
        # GPT-4ç‰¹æœ‰ã®å®Ÿè£…
        response = await self.client.chat.completions.create(...)
        return self.parse_response(response)

# ãƒ¢ãƒ‡ãƒ«ãƒ•ã‚¡ã‚¯ãƒˆãƒªãƒ¼
class ModelFactory:
    """è¨­å®šã«åŸºã¥ã„ã¦é©åˆ‡ãªãƒ¢ãƒ‡ãƒ«ã‚’è¿”ã™"""
    
    @staticmethod
    def create_model(config: Dict) -> AIModel:
        model_type = config.get("model_type", "claude")
        
        if model_type == "claude":
            return ClaudeModel(config["api_key"])
        elif model_type == "gpt4":
            return GPT4Model(config["api_key"])
        else:
            raise ValueError(f"Unknown model type: {model_type}")
```

### 2.3 ãƒ¢ãƒ‡ãƒ«ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆæˆ¦ç•¥

```yaml
è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«: /config/ai_models.yaml

current_model:
  type: "claude"
  version: "3.5-sonnet"
  api_key_env: "ANTHROPIC_API_KEY"
  
model_history:
  - date: "2025-06-14"
    model: "claude-3.5-sonnet"
    reason: "åˆæœŸå®Ÿè£…"
    
migration_rules:
  # æ–°ãƒ¢ãƒ‡ãƒ«è¿½åŠ æ™‚ã®ç§»è¡Œãƒ«ãƒ¼ãƒ«
  compatibility_test:
    - æ—¢å­˜ãƒ‡ãƒ¼ã‚¿ã§ã®å‹•ä½œç¢ºèª
    - ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æ¯”è¼ƒ
    - ã‚³ã‚¹ãƒˆè©¦ç®—
    
  rollback_plan:
    - æ—§ãƒ¢ãƒ‡ãƒ«ã¸ã®å³æ™‚åˆ‡ã‚Šæ›¿ãˆ
    - ãƒ‡ãƒ¼ã‚¿æ•´åˆæ€§ã®ç¢ºä¿
```

```python
class ModelManager:
    """ãƒ¢ãƒ‡ãƒ«ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ç®¡ç†ã¨ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆ"""
    
    def __init__(self, config_path: str):
        self.config = self.load_config(config_path)
        self.current_model = self.load_current_model()
        
    async def upgrade_model(self, new_model_config: Dict):
        """æ–°ã—ã„ãƒ¢ãƒ‡ãƒ«ã¸ã®ã‚¢ãƒƒãƒ—ã‚°ãƒ¬ãƒ¼ãƒ‰"""
        # 1. äº’æ›æ€§ãƒ†ã‚¹ãƒˆ
        if await self.test_compatibility(new_model_config):
            # 2. æ®µéšçš„ç§»è¡Œ
            await self.gradual_migration(new_model_config)
            # 3. è¨­å®šæ›´æ–°
            self.update_config(new_model_config)
        else:
            raise ValueError("æ–°ãƒ¢ãƒ‡ãƒ«ã¯äº’æ›æ€§ãƒ†ã‚¹ãƒˆã«å¤±æ•—")
    
    async def test_compatibility(self, new_config: Dict) -> bool:
        """æ¨™æº–ãƒ†ã‚¹ãƒˆã‚»ãƒƒãƒˆã§äº’æ›æ€§ç¢ºèª"""
        test_cases = [
            "ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆç›¸è«‡ã®ç†è§£",
            "ææ¡ˆæ›¸ç”Ÿæˆ",
            "æ´å¯Ÿã®è³ª"
        ]
        
        old_model = self.current_model
        new_model = ModelFactory.create_model(new_config)
        
        for test in test_cases:
            old_result = await old_model.process(test)
            new_result = await new_model.process(test)
            
            if not self.results_compatible(old_result, new_result):
                return False
        
        return True
```

## 3. å®Ÿè£…å„ªå…ˆé †ä½

### Phase 1: åŸºæœ¬I/Oã‚·ã‚¹ãƒ†ãƒ ï¼ˆ1é€±ç›®ï¼‰

```python
# æœ€å°é™ã®å®Ÿè£…
class MirralismCore:
    def __init__(self):
        self.ai_model = ClaudeModel(api_key=os.getenv("ANTHROPIC_API_KEY"))
        self.output_organizer = OutputOrganizer()
        
    async def process(self, input_text: str):
        # 1. AIãŒç†è§£
        understanding = await self.ai_model.understand(input_text)
        
        # 2. é©åˆ‡ãªå ´æ‰€ã«æ•´ç†ã—ã¦ä¿å­˜
        await self.output_organizer.process_input(input_text, understanding)
        
        # 3. ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«çµæœã‚’è¡¨ç¤º
        return {
            "understood": understanding,
            "saved_to": output_path,
            "insights": insights
        }
```

### Phase 2: ãƒ¢ãƒ‡ãƒ«æŠ½è±¡åŒ–ï¼ˆ2é€±ç›®ï¼‰

- ModelFactoryã®å®Ÿè£…
- è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ãƒ™ãƒ¼ã‚¹ã®åˆ‡ã‚Šæ›¿ãˆ
- A/Bãƒ†ã‚¹ãƒˆæ©Ÿèƒ½

### Phase 3: é«˜åº¦ãªæ•´ç†æ©Ÿèƒ½ï¼ˆ3é€±ç›®ï¼‰

- è‡ªå‹•ã‚¯ãƒ­ã‚¹ãƒªãƒ•ã‚¡ãƒ¬ãƒ³ã‚¹
- æ™‚ç³»åˆ—åˆ†æ
- ãƒˆãƒ¬ãƒ³ãƒ‰æ¤œå‡º

## 4. ä½¿ç”¨ã‚¤ãƒ¡ãƒ¼ã‚¸

```bash
# ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒä½•ã‹å…¥åŠ›
"é»’æ¾¤å·¥å‹™åº—ã‹ã‚‰ã€æœ€è¿‘ã‚¨ã‚³ä½å®…ã®ç›¸è«‡ãŒå¢—ãˆã¦ããŸã€‚
ã‚³ã‚¹ãƒˆã®èª¬æ˜ãŒé›£ã—ã„ã‚‰ã—ã„ã€‚ä½•ã‹è‰¯ã„ææ¡ˆæ–¹æ³•ã¯ãªã„ã‹ï¼Ÿ"

# ã‚·ã‚¹ãƒ†ãƒ ã®å‡¦ç†
1. AIç†è§£: ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆ=é»’æ¾¤å·¥å‹™åº—ã€èª²é¡Œ=ã‚¨ã‚³ä½å®…ã®ã‚³ã‚¹ãƒˆèª¬æ˜
2. æ´å¯Ÿç”Ÿæˆ: åˆæœŸæŠ•è³‡vsé•·æœŸãƒ¡ãƒªãƒƒãƒˆã®å¯è¦–åŒ–ãŒé‡è¦
3. è‡ªå‹•ä¿å­˜å…ˆ: /Clients/é»’æ¾¤å·¥å‹™åº—/Projects/2025-06_ã‚¨ã‚³ä½å®…ææ¡ˆ/
4. ç”Ÿæˆç‰©:
   - Summary.mdï¼ˆè¦ç´„ï¼‰
   - Insights.mdï¼ˆæ´å¯Ÿï¼šè£œåŠ©é‡‘æ´»ç”¨ã€ä»–ç¤¾äº‹ä¾‹ãªã©ï¼‰
   - Proposal.mdï¼ˆææ¡ˆï¼š10å¹´åæ”¯ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ï¼‰

# ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒå¾Œã§ç¢ºèª
"é»’æ¾¤å·¥å‹™åº—ã®æœ€è¿‘ã®æ¡ˆä»¶ã‚’è¦‹ã›ã¦"
â†’ /Clients/é»’æ¾¤å·¥å‹™åº—/Projects/ ã‚’è¡¨ç¤º
â†’ æ™‚ç³»åˆ—ã§æ•´ç†ã•ã‚ŒãŸæ¡ˆä»¶ä¸€è¦§
```