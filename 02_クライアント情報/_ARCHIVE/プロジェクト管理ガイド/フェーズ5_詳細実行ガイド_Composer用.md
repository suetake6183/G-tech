# フェーズ5詳細実行ガイド（Cursor Composer用）

**作成日**: 2025年11月9日
**目的**: _共通資料フォルダの最終整理を確実に実行するための詳細手順書

---

## ⚠️ 実行前の重要注意事項

### 1. フェーズ3の完了確認
```bash
# フェーズ3が完了していることを確認
git log --oneline -5
# 「フェーズ3完了」のコミットがあることを確認
```

### 2. git status確認
```bash
cd "/Volumes/G-TECH/02_クライアント情報"
git status
```
- 未コミットの変更がある場合、先にコミット

### 3. ディスク容量確認
```bash
df -h "/Volumes/G-TECH"
```
- 最低5GB以上の空き容量があることを確認

---

## 📋 基本方針

### _共通資料の現状
- **総ファイル数**: 462ファイル
- **トップレベルフォルダ数**: 42フォルダ

### 整理方針
1. **本当に共通で使うもの** → 保持・整理
2. **特定プロジェクト名が入っているもの** → _ARCHIVEへ移動
3. **古い日付のもの（2024年以前）** → _ARCHIVEへ移動
4. **判断が難しいもの** → 99_未分類フォルダへ一時保管

### 保持する基準
- テンプレート（契約書、見積書等の雛形）
- ロゴデータ（汎用的なもの）
- 法的参考資料
- 営業資料（汎用的なもの）
- プレゼン資料（汎用的なもの）

---

## 📋 実行の全体フロー

```
Step 1: _ARCHIVE/旧共通資料フォルダの作成
  ↓
Step 2: 特定プロジェクト名が入っているフォルダを_ARCHIVEへ移動
  ↓
Step 3: 古い日付のフォルダを_ARCHIVEへ移動
  ↓
Step 4: 特定クライアント向けの日付フォルダを_ARCHIVEへ移動
  ↓
Step 5: 判断が難しいフォルダを99_未分類へ移動
  ↓
Step 6: 本当に共通で使うフォルダの整理
  ↓
Step 7: 検証
```

---

## Step 1: _ARCHIVE/旧共通資料フォルダの作成

### 1-1. アーカイブフォルダの作成

```bash
mkdir -p "/Volumes/G-TECH/02_クライアント情報/_共通資料/_ARCHIVE/20251109_旧共通資料"
mkdir -p "/Volumes/G-TECH/02_クライアント情報/_共通資料/99_未分類"
```

---

## Step 2: 特定プロジェクト名が入っているフォルダを_ARCHIVEへ移動

### 2-1. 特定プロジェクト名フォルダの移動

```bash
# 20220518_ウェブフリメンバーズポータル_提案資料
mv "/Volumes/G-TECH/02_クライアント情報/_共通資料/20220518_ウェブフリメンバーズポータル_提案資料" \
   "/Volumes/G-TECH/02_クライアント情報/_共通資料/_ARCHIVE/20251109_旧共通資料/" 2>/dev/null || true

mv "/Volumes/G-TECH/02_クライアント情報/_共通資料/20220518_ウェブフリメンバーズポータル_提案資料 2" \
   "/Volumes/G-TECH/02_クライアント情報/_共通資料/_ARCHIVE/20251109_旧共通資料/" 2>/dev/null || true

# Google AI講座
mv "/Volumes/G-TECH/02_クライアント情報/_共通資料/Google AI講座" \
   "/Volumes/G-TECH/02_クライアント情報/_共通資料/_ARCHIVE/20251109_旧共通資料/" 2>/dev/null || true

# v2リサーチ
mv "/Volumes/G-TECH/02_クライアント情報/_共通資料/v2リサーチ" \
   "/Volumes/G-TECH/02_クライアント情報/_共通資料/_ARCHIVE/20251109_旧共通資料/" 2>/dev/null || true

# LanobePOPv2
mv "/Volumes/G-TECH/02_クライアント情報/_共通資料/LanobePOPv2" \
   "/Volumes/G-TECH/02_クライアント情報/_共通資料/_ARCHIVE/20251109_旧共通資料/" 2>/dev/null || true

# mksd_ikaho
mv "/Volumes/G-TECH/02_クライアント情報/_共通資料/mksd_ikaho" \
   "/Volumes/G-TECH/02_クライアント情報/_共通資料/_ARCHIVE/20251109_旧共通資料/" 2>/dev/null || true

# musica2024
mv "/Volumes/G-TECH/02_クライアント情報/_共通資料/musica2024" \
   "/Volumes/G-TECH/02_クライアント情報/_共通資料/_ARCHIVE/20251109_旧共通資料/" 2>/dev/null || true

# 2dbarcodes_GW
mv "/Volumes/G-TECH/02_クライアント情報/_共通資料/2dbarcodes_GW" \
   "/Volumes/G-TECH/02_クライアント情報/_共通資料/_ARCHIVE/20251109_旧共通資料/" 2>/dev/null || true

# gainfriends_qr
mv "/Volumes/G-TECH/02_クライアント情報/_共通資料/gainfriends_qr" \
   "/Volumes/G-TECH/02_クライアント情報/_共通資料/_ARCHIVE/20251109_旧共通資料/" 2>/dev/null || true

# コピー_ウェブフリ
mv "/Volumes/G-TECH/02_クライアント情報/_共通資料/コピー_ウェブフリ" \
   "/Volumes/G-TECH/02_クライアント情報/_共通資料/_ARCHIVE/20251109_旧共通資料/" 2>/dev/null || true
```

---

## Step 3: 古い日付のフォルダを_ARCHIVEへ移動

### 3-1. 古いフォルダの移動

```bash
# OneDrive-2023-02-04
mv "/Volumes/G-TECH/02_クライアント情報/_共通資料/OneDrive-2023-02-04" \
   "/Volumes/G-TECH/02_クライアント情報/_共通資料/_ARCHIVE/20251109_旧共通資料/" 2>/dev/null || true

# アーカイブ 2
mv "/Volumes/G-TECH/02_クライアント情報/_共通資料/アーカイブ 2" \
   "/Volumes/G-TECH/02_クライアント情報/_共通資料/_ARCHIVE/20251109_旧共通資料/" 2>/dev/null || true
```

---

## Step 4: 特定クライアント向けの日付フォルダを_ARCHIVEへ移動

### 4-1. 日付付きフォルダの移動

```bash
# 見積書_20250325（特定期間の見積書）
mv "/Volumes/G-TECH/02_クライアント情報/_共通資料/見積書_20250325" \
   "/Volumes/G-TECH/02_クライアント情報/_共通資料/_ARCHIVE/20251109_旧共通資料/" 2>/dev/null || true

# 請求書_20240217
mv "/Volumes/G-TECH/02_クライアント情報/_共通資料/請求書_20240217" \
   "/Volumes/G-TECH/02_クライアント情報/_共通資料/_ARCHIVE/20251109_旧共通資料/" 2>/dev/null || true

# 領収書_20240217
mv "/Volumes/G-TECH/02_クライアント情報/_共通資料/領収書_20240217" \
   "/Volumes/G-TECH/02_クライアント情報/_共通資料/_ARCHIVE/20251109_旧共通資料/" 2>/dev/null || true

# 10月11月作業時間
mv "/Volumes/G-TECH/02_クライアント情報/_共通資料/10月11月作業時間" \
   "/Volumes/G-TECH/02_クライアント情報/_共通資料/_ARCHIVE/20251109_旧共通資料/" 2>/dev/null || true

# 1018じゃんけん班議事録
mv "/Volumes/G-TECH/02_クライアント情報/_共通資料/1018じゃんけん班議事録" \
   "/Volumes/G-TECH/02_クライアント情報/_共通資料/_ARCHIVE/20251109_旧共通資料/" 2>/dev/null || true

# freee_journals_20250709
mv "/Volumes/G-TECH/02_クライアント情報/_共通資料/freee_journals_20250709" \
   "/Volumes/G-TECH/02_クライアント情報/_共通資料/_ARCHIVE/20251109_旧共通資料/" 2>/dev/null || true

# report_2025012517
mv "/Volumes/G-TECH/02_クライアント情報/_共通資料/report_2025012517" \
   "/Volumes/G-TECH/02_クライアント情報/_共通資料/_ARCHIVE/20251109_旧共通資料/" 2>/dev/null || true
```

---

## Step 5: 判断が難しいフォルダを99_未分類へ移動

### 5-1. 判断が難しいフォルダの移動

```bash
# 1.案件獲得で重要なこと
mv "/Volumes/G-TECH/02_クライアント情報/_共通資料/1.案件獲得で重要なこと" \
   "/Volumes/G-TECH/02_クライアント情報/_共通資料/99_未分類/" 2>/dev/null || true

# index.html by html.to.design ❤️ FREE version - 09
mv "/Volumes/G-TECH/02_クライアント情報/_共通資料/index.html by html.to.design ❤️ FREE version - 09" \
   "/Volumes/G-TECH/02_クライアント情報/_共通資料/99_未分類/" 2>/dev/null || true

# jqueryの読み込み方法
mv "/Volumes/G-TECH/02_クライアント情報/_共通資料/jqueryの読み込み方法" \
   "/Volumes/G-TECH/02_クライアント情報/_共通資料/99_未分類/" 2>/dev/null || true

# その他（判断が難しい大量のファイル）
# 後で手動確認するため、そのまま保持または99_未分類へ移動は任意
```

---

## Step 6: 本当に共通で使うフォルダの整理

### 6-1. 保持するフォルダの確認

以下のフォルダは**共通で使う可能性が高い**ため、保持します：

**保持するフォルダ:**
- `ビジネス書類/`（契約書の法的参考資料3件）
- `ロゴデータ/`（汎用的なロゴ）
- `プレゼン資料/`（汎用的なプレゼン資料）
- `営業部/`
- `営業資料４月/`
- `教材動画テンプレ/`
- `教材素材/`
- `ドキュメント/`（汎用的なドキュメント）
- `写真/`、`写真・画像/`
- `動画/`、`動画素材/`
- `サムネイル/`
- `漫画イラストサンプル/`
- `景品一覧/`
- `床材見積/`
- `契約内容/`
- `画像書き出し/`

### 6-2. 空のフォルダを削除

```bash
# 空のフォルダを検索して削除
find "/Volumes/G-TECH/02_クライアント情報/_共通資料" -type d -empty -delete 2>/dev/null || true
```

### 6-3. ビジネス書類フォルダの整理

```bash
# 見積書・請求書フォルダが空であることを確認（フェーズ1で既にクリーンアップ済み）
# 契約書フォルダには法的参考資料3件のみが残っている
```

---

## Step 7: 検証

### 7-1. _共通資料の残存ファイル数確認

```bash
# 総ファイル数確認
find "/Volumes/G-TECH/02_クライアント情報/_共通資料" -type f | wc -l
# 期待値: 462から大幅に減少
```

### 7-2. _ARCHIVEフォルダの確認

```bash
# アーカイブされたフォルダ数確認
ls "/Volumes/G-TECH/02_クライアント情報/_共通資料/_ARCHIVE/20251109_旧共通資料/" | wc -l
# 期待値: 17以上（移動したフォルダ）
```

### 7-3. 99_未分類フォルダの確認

```bash
# 未分類フォルダ数確認
ls "/Volumes/G-TECH/02_クライアント情報/_共通資料/99_未分類/" | wc -l
# 期待値: 3以上（移動したフォルダ）
```

### 7-4. 保持されたフォルダの確認

```bash
# トップレベルのフォルダ数確認
ls -d "/Volumes/G-TECH/02_クライアント情報/_共通資料"/*/ | \
  grep -v "_ARCHIVE" | grep -v "99_未分類" | wc -l
# 期待値: 20-25（本当に共通で使うフォルダのみ）
```

### 7-5. ビジネス書類の確認

```bash
# 契約書フォルダの法的参考資料確認
ls "/Volumes/G-TECH/02_クライアント情報/_共通資料/ビジネス書類/契約書/"
# 期待値: 3ファイル（法的参考資料のみ）

# 見積書・請求書フォルダが空であることを確認
ls "/Volumes/G-TECH/02_クライアント情報/_共通資料/ビジネス書類/見積書/" 2>/dev/null | wc -l
ls "/Volumes/G-TECH/02_クライアント情報/_共通資料/ビジネス書類/請求書/" 2>/dev/null | wc -l
# 期待値: 0（空）
```

---

## ✅ 完了チェックリスト

### Step 1: _ARCHIVE/旧共通資料フォルダの作成
- [ ] 20251109_旧共通資料フォルダ作成
- [ ] 99_未分類フォルダ作成

### Step 2: 特定プロジェクト名が入っているフォルダを_ARCHIVEへ移動
- [ ] 10フォルダ移動完了

### Step 3: 古い日付のフォルダを_ARCHIVEへ移動
- [ ] 2フォルダ移動完了

### Step 4: 特定クライアント向けの日付フォルダを_ARCHIVEへ移動
- [ ] 7フォルダ移動完了

### Step 5: 判断が難しいフォルダを99_未分類へ移動
- [ ] 3フォルダ移動完了

### Step 6: 本当に共通で使うフォルダの整理
- [ ] 保持するフォルダの確認完了
- [ ] 空のフォルダ削除完了
- [ ] ビジネス書類フォルダの整理確認完了

### Step 7: 検証
- [ ] _共通資料の残存ファイル数確認
- [ ] _ARCHIVEフォルダの確認
- [ ] 99_未分類フォルダの確認
- [ ] 保持されたフォルダの確認
- [ ] ビジネス書類の確認

---

## ⚠️ エラーハンドリング

### エラー1: ファイルが見つからない

```
mv: cannot stat '/path/to/file': No such file or directory
```

**対処法:**
1. 既に移動済みでないか確認
2. パスを確認
3. 警告として記録して続行（`|| true`を使用）

### エラー2: 移動先に同名フォルダが存在

```
mv: cannot move to '/path/to/destination/': Directory not empty
```

**対処法:**
1. 既存フォルダの内容を確認
2. 必要に応じてリネームして移動
3. 停止して報告

---

## 📝 実行後の確認事項

### 1. git status確認

```bash
cd "/Volumes/G-TECH/02_クライアント情報"
git status
```

### 2. _共通資料のファイル数確認

```bash
# 総ファイル数
find "/Volumes/G-TECH/02_クライアント情報/_共通資料" -type f | wc -l
# 期待値: 462から大幅に減少（約300以下）
```

### 3. git commit

```bash
cd "/Volumes/G-TECH/02_クライアント情報"
git add .
git commit -m "フェーズ5完了: _共通資料の最終整理

【Step 1: _ARCHIVE/旧共通資料フォルダの作成】
- 20251109_旧共通資料フォルダ作成
- 99_未分類フォルダ作成

【Step 2: 特定プロジェクト名が入っているフォルダを_ARCHIVEへ移動】
- 10フォルダを_ARCHIVE/20251109_旧共通資料/へ移動
  - ウェブフリメンバーズポータル関連
  - Google AI講座
  - v2リサーチ
  - LanobePOPv2
  - mksd_ikaho
  - musica2024
  - 2dbarcodes_GW
  - gainfriends_qr
  - コピー_ウェブフリ

【Step 3: 古い日付のフォルダを_ARCHIVEへ移動】
- OneDrive-2023-02-04
- アーカイブ 2

【Step 4: 特定クライアント向けの日付フォルダを_ARCHIVEへ移動】
- 7フォルダを_ARCHIVE/20251109_旧共通資料/へ移動
  - 見積書_20250325
  - 請求書_20240217
  - 領収書_20240217
  - 10月11月作業時間
  - 1018じゃんけん班議事録
  - freee_journals_20250709
  - report_2025012517

【Step 5: 判断が難しいフォルダを99_未分類へ移動】
- 3フォルダを99_未分類へ移動
  - 1.案件獲得で重要なこと
  - index.html by html.to.design ❤️ FREE version - 09
  - jqueryの読み込み方法

【Step 6: 本当に共通で使うフォルダの整理】
- 保持するフォルダ: 約20-25フォルダ
  - ビジネス書類、ロゴデータ、プレゼン資料、営業部等
- 空のフォルダを削除

【Step 7: 検証】
- 全検証項目クリア
- _共通資料の総ファイル数: 大幅に減少
- _ARCHIVE/20251109_旧共通資料/: 17フォルダ
- 99_未分類/: 3フォルダ

【成果】
- _共通資料が整理され、本当に共通で使うものだけが残った
- 特定プロジェクト向けのフォルダは_ARCHIVEへ保管
- 判断が難しいフォルダは99_未分類へ保管（後で手動整理）

🎉 リポジトリ再構築計画完全完了！"
```

---

## 📌 重要な注意事項

### _ARCHIVE/20251109_旧共通資料/ について

**目的:**
- 特定プロジェクト向けのフォルダを保管
- 古い日付のフォルダを保管
- 後で確認・削除可能

**内容:**
- 特定プロジェクト名フォルダ: 10件
- 古い日付フォルダ: 2件
- 特定クライアント向け日付フォルダ: 7件

### 99_未分類/ について

**目的:**
- 判断が難しいフォルダの一時保管
- 後で手動で確認・振り分け

**内容:**
- 1.案件獲得で重要なこと
- index.html by html.to.design ❤️ FREE version - 09
- jqueryの読み込み方法

### その他フォルダ について

`その他/`フォルダには約120のサブフォルダがあり、内容が不明瞭です。
このフォルダは**そのまま保持**し、後で手動で確認することを推奨します。

---

## 🎉 リポジトリ再構築計画 完全完了

フェーズ5完了後：
- **フェーズ1**: _共通資料の仕分け ✅
- **フェーズ2**: CORE/BIZ/PERSONALのフラット化 ✅
- **フェーズ3**: 各クライアントの構造統一 ✅
- **フェーズ4**: AGOの移動 ✅（実質不要・既に完了）
- **フェーズ5**: _共通資料の最終整理 ✅

**全フェーズ完了！おめでとうございます！**

---

## 次のステップ（任意）

1. **99_未分類フォルダの内容を確認**
   - 手動で各フォルダを確認
   - 必要に応じて適切な場所へ移動

2. **その他フォルダの内容を確認**
   - 約120のサブフォルダを手動で確認
   - 不要なものを削除またはアーカイブ

3. **00_COREフォルダの整理**
   - 各クライアントの00_COREフォルダを確認
   - 該当するプロジェクトへファイルを振り分け

4. **_共通資料_NEWの活用**
   - 新しい共通資料構造（INPUT_LIBRARY, KNOWLEDGE_BASE, OUTPUT_TEMPLATES）を活用
   - 既存の共通資料を新構造へ移行（任意）
